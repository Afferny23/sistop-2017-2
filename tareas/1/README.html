<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>README.html</title>

</head>

<body>

<h1>Tarea 1: Depuración por <em>trazas</em></h1>

<p>Vimos en clase una introducción a lo que podemos aprender observando
las llamadas al sistema que hace un programa (pueden revisar un
ejemplo en las
<a href="http://gwolf.sistop.org/laminas/03-relacion-con-el-hardware.pdf#page=32">láminas 32 y 33 de la presentación</a>
o en la
<a href="http://sistop.org/pdf/sistemas_operativos.pdf">sección 2.7.1 del libro</a>).</p>

<p>Para esta primera tarea, quiero que ustedes realicen un ejercicio
similar a lo que demostré en clase. Esto es:</p>

<ul>
<li>Elijan un programa <em>sencillo</em>, y <em>tracen</em> su ejecución
<ul>
<li>En Linux, con <code>strace</code>. En MacOS, pueden usar <code>ktrace</code> o
<code>dtrace</code>.</li>
<li>En Windows hay muchos programas, aunque hasta donde puedo
entender, ninguno viene preinstalado por default. Me encontré
con el <a href="http://drmemory.org/">Dr. Memory Framework</a>, que dice
tener un <em>Strace for Windows</em>.</li>
<li>Obviamente, si encuentran otra herramienta, ¡bienvenida!</li>
</ul></li>
<li>La salida de la ejecución probablemente va a ser <em>muy</em>
grande. Hagan una revisión rápida a ojo para buscar una región
interesante, y elijan unas <em>25 llamadas consecutivas</em> en que se
quieran enfocar</li>
<li>Expliquen qué comprenden o qué intuyen de esa porción de la
ejecución.
<ul>
<li>¿Línea por línea? ¿Explicando grupos de llamadas? De ustedes
depende</li>
</ul></li>
<li><p>Intenten intuir qué <em>no</em> aparece. Esto es, de ser posible, indiquen
evidencia indirecta de procesamiento de algún conjunto de datos
<em>dentro del programa</em></p>

<ul>
<li><p>El ejemplo que les puse en clase: Vimos el resultado de llamar
<code>strace ls</code>. Hacia el final de la salida, vimos el siguiente
resultado:</p>

<pre><code>open(".", O_RDONLY|O_NONBLOCK|O_DIRECTORY|O_CLOEXEC) = 3
fstat(3, {st_mode=S_IFDIR|S_ISVTX|0777, st_size=2182, ...}) = 0
getdents(3, /* 65 entries */, 32768)    = 2632
getdents(3, /* 0 entries */, 32768)     = 0
close(3)                                = 0
fstat(1, {st_mode=S_IFCHR|0666, st_rdev=makedev(1, 3), ...}) = 0
ioctl(1, TCGETS, 0x7ffff35cf360)        = -1 ENOTTY (Inappropriate ioctl for device)
write(1, "01-presentacion.org\n01-presentac"..., 1093) = 1093
close(1)                                = 0
close(2)                                = 0
exit_group(0)                           = ?
+++ exited with 0 +++
</code></pre></li>
<li>Les mencioné que la llamada a <code>getdents</code> me entregó las 65
entradas que tiene el directorio actual (<em>g</em>et <em>d</em>irectory
<em>ent</em>rie<em>s</em>), y le siguió un segundo <code>getdents</code></li>
</ul></li>
<li><p>Trazar ejecución de un programa</p></li>
<li>Elijan unas 25 llamadas consecutivas</li>
<li>Intuyan / expliquen las llamadas</li>
<li>Intuyan qué <em>no</em> aparece</li>
</ul>

</body>
</html>
